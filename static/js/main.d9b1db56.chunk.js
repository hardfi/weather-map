(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,a){e.exports=a(75)},52:function(e,t,a){},53:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),i=(a(52),a(53),a(13)),l=a(10),s=a(16),u=a(17),h=a(19),p=a(31),m="c25f3c202404d3738117f9c16f15bb2e",d="en",f="metric",g=(a(69),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t,a;return this.props.weather?((t=this.props.weather.coord).lng=t.lon,a=Math.round(this.props.weather.main.temp),e="".concat("/weather-map","/icons/").concat(this.props.weather.weather[0].icon,".png"),r.a.createElement(p.Map,{google:this.props.google,zoom:9,initialCenter:t,className:"MapContainer",center:t},r.a.createElement(p.Marker,{position:t,label:{fontWeight:"bold",fontSize:"18px",text:"".concat(a," \xb0C")},icon:{url:e}}))):null}}]),t}(r.a.Component)),v=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyBFY-lhRs26UcJ7Pa5dQKT0Rt6_vzyrz1w"})(g),w=a(39),y=a.n(w),E=(a(70),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("img",{src:y.a,className:"Header-logo",alt:"logo"}),r.a.createElement("div",{className:"header-container"},r.a.createElement("h2",null,"Show weather in a chosen city/area"),r.a.createElement("h6",null,"Powered by: Google Maps & OpenWeater")))}}]),t}(r.a.Component)),b=a(34),O=a.n(b),j=(a(72),a(106)),W=a(107),k=a(28),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getUserLocation=function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(navigator.geolocation.getCurrentPosition((function(e){return a.setState({lat:e.coords.latitude,lng:e.coords.longitude},(function(){a.updateWeather()}))}),(function(e){a.setLocationFromStorage(),console.log(e)})));case 2:case"end":return e.stop()}}))},a.handleInput=function(e){a.setState({input:e.target.value})},a.handleEnterKey=function(e){"Enter"===e.key&&(e.preventDefault(),a.updateWeather(a.state.input))},a.handleClick=function(){a.updateWeather(a.state.input)},a.state={input:"",city:"",lat:"",lng:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUserLocation()}},{key:"setLocationFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem("city"))||"Warsaw";this.updateWeather(t),this.setState({city:t},(function(){setInterval((function(){e.updateWeather(e.state.city)}),9e5)}))}},{key:"updateWeather",value:function(e){var t,a=this;t=e?"https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(m,"&lang=").concat(d,"&units=").concat(f):"https://api.openweathermap.org/data/2.5/weather?lat=".concat(this.state.lat,"&lon=").concat(this.state.lng,"&appid=").concat(m,"&lang=").concat(d,"&units=").concat(f),fetch(t).then((function(e){return e.json()})).then((function(e){e.name?(a.props.onWeatherUpdate(e),a.setState({input:"",city:e.name},(function(){return a.saveCityToLocalStorage()}))):k.b.error("Cannot find this place on OpenWeather!")})).catch((function(e){return console.log(e)}))}},{key:"saveCityToLocalStorage",value:function(){localStorage.setItem("city",JSON.stringify(this.state.city))}},{key:"render",value:function(){var e=this,t=this.props.weather;if(t){var a=Math.round(t.main.temp),n=Math.round(t.main.pressure),o=Math.round(t.wind.speed);return r.a.createElement("div",{className:"weather"},r.a.createElement("h2",null,t.name),r.a.createElement("h3",null,t.weather[0].description),r.a.createElement("h3",null,"Temperature: ",a,"\xb0C "),r.a.createElement("h3",null,"Pressure: ",n," hPa"),r.a.createElement("h3",null,"Wind: ",o," m/s"),r.a.createElement("div",{className:"form"},r.a.createElement(j.a,{id:"standard-basic",label:"Enter city or country",onChange:this.handleInput,value:this.state.input,className:"input",onKeyPress:function(t){return e.handleEnterKey(t)}}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:this.handleClick},"Search")))}return null}}]),t}(r.a.Component),C=(a(74),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleWeatherUpdate=function(e){a.setState({weather:e})},a.state={weather:"",currentLocation:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(E,null)),r.a.createElement("div",{className:"row main-content"},r.a.createElement("div",{className:"col"},r.a.createElement(S,{onWeatherUpdate:this.handleWeatherUpdate,weather:this.state.weather})),r.a.createElement("div",{className:"map-main"},r.a.createElement(v,{weather:this.state.weather}))),r.a.createElement(k.a,null))}}]),t}(r.a.Component));var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.d9b1db56.chunk.js.map